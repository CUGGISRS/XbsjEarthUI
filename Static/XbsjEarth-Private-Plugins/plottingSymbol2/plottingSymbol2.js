!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,o){!function(e,t){if(!M[e]||!m[e])return;for(var o in m[e]=!1,t)Object.prototype.hasOwnProperty.call(t,o)&&(f[o]=t[o]);0==--v&&0===w&&E()}(e,o),t&&t(e,o)};var o,n=!0,r="280e097ba119bd877017",i={},s=[],a=[];function c(e){var t=x[e];if(!t)return I;var n=function(n){return t.hot.active?(x[n]?-1===x[n].parents.indexOf(e)&&x[n].parents.push(e):(s=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),s=[]),I(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return I[e]},set:function(t){I[e]=t}}};for(var i in I)Object.prototype.hasOwnProperty.call(I,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,r(i));return n.e=function(e){return"ready"===h&&p("prepare"),w++,I.e(e).then(t,(function(e){throw t(),e}));function t(){w--,"prepare"===h&&(_[e]||P(e),0===w&&0===v&&E())}},n.t=function(e,t){return 1&t&&(e=n(e)),I.t(e,-2&t)},n}function l(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)n._acceptedDependencies[e[o]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,h){case"idle":(f={})[t]=e[t],p("ready");break;case"ready":W(t);break;case"prepare":case"check":case"dispose":case"apply":(g=g||[]).push(t)}},check:b,apply:S,status:function(e){if(!e)return h;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:i[t]};return o=void 0,n}var d=[],h="idle";function p(e){h=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var u,f,y,g,v=0,w=0,_={},m={},M={};function O(e){return+e+""===e?+e:e}function b(e){if("idle"!==h)throw new Error("check() is only allowed in idle status");return n=e,p("check"),(t=1e4,t=t||1e4,new Promise((function(e,o){if("undefined"==typeof XMLHttpRequest)return o(new Error("No browser support"));try{var n=new XMLHttpRequest,i=I.p+""+r+".hot-update.json";n.open("GET",i,!0),n.timeout=t,n.send(null)}catch(e){return o(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)o(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)o(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void o(e)}e(t)}}}))).then((function(e){if(!e)return p(j()?"ready":"idle"),null;m={},_={},M=e.c,y=e.h,p("prepare");var t=new Promise((function(e,t){u={resolve:e,reject:t}}));f={};return P(0),"prepare"===h&&0===w&&0===v&&E(),t}));var t}function P(e){M[e]?(m[e]=!0,v++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=I.p+""+e+"."+r+".hot-update.js",document.head.appendChild(t)}(e)):_[e]=!0}function E(){p("ready");var e=u;if(u=null,e)if(n)Promise.resolve().then((function(){return S(n)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var o in f)Object.prototype.hasOwnProperty.call(f,o)&&t.push(O(o));e.resolve(t)}}function S(t){if("ready"!==h)throw new Error("apply() is only allowed in ready status");return function t(n){var a,c,l,d,h;function u(e){for(var t=[e],o={},n=t.map((function(e){return{chain:[e],id:e}}));n.length>0;){var r=n.pop(),i=r.id,s=r.chain;if((d=x[i])&&(!d.hot._selfAccepted||d.hot._selfInvalidated)){if(d.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(d.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var a=0;a<d.parents.length;a++){var c=d.parents[a],l=x[c];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[i]?(o[c]||(o[c]=[]),v(o[c],[i])):(delete o[c],t.push(c),n.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:o}}function v(e,t){for(var o=0;o<t.length;o++){var n=t[o];-1===e.indexOf(n)&&e.push(n)}}j();var w={},_=[],m={},b=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var P in f)if(Object.prototype.hasOwnProperty.call(f,P)){var E;h=O(P),E=f[P]?u(h):{type:"disposed",moduleId:P};var S=!1,W=!1,D=!1,C="";switch(E.chain&&(C="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":n.onDeclined&&n.onDeclined(E),n.ignoreDeclined||(S=new Error("Aborted because of self decline: "+E.moduleId+C));break;case"declined":n.onDeclined&&n.onDeclined(E),n.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+C));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(E),n.ignoreUnaccepted||(S=new Error("Aborted because "+h+" is not accepted"+C));break;case"accepted":n.onAccepted&&n.onAccepted(E),W=!0;break;case"disposed":n.onDisposed&&n.onDisposed(E),D=!0;break;default:throw new Error("Unexception type "+E.type)}if(S)return p("abort"),Promise.reject(S);if(W)for(h in m[h]=f[h],v(_,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,h)&&(w[h]||(w[h]=[]),v(w[h],E.outdatedDependencies[h]));D&&(v(_,[E.moduleId]),m[h]=b)}var H,T=[];for(c=0;c<_.length;c++)h=_[c],x[h]&&x[h].hot._selfAccepted&&m[h]!==b&&!x[h].hot._selfInvalidated&&T.push({module:h,parents:x[h].parents.slice(),errorHandler:x[h].hot._selfAccepted});p("dispose"),Object.keys(M).forEach((function(e){!1===M[e]&&function(e){delete installedChunks[e]}(e)}));var k,A,V=_.slice();for(;V.length>0;)if(h=V.pop(),d=x[h]){var X={},R=d.hot._disposeHandlers;for(l=0;l<R.length;l++)(a=R[l])(X);for(i[h]=X,d.hot.active=!1,delete x[h],delete w[h],l=0;l<d.children.length;l++){var U=x[d.children[l]];U&&((H=U.parents.indexOf(h))>=0&&U.parents.splice(H,1))}}for(h in w)if(Object.prototype.hasOwnProperty.call(w,h)&&(d=x[h]))for(A=w[h],l=0;l<A.length;l++)k=A[l],(H=d.children.indexOf(k))>=0&&d.children.splice(H,1);p("apply"),void 0!==y&&(r=y,y=void 0);for(h in f=void 0,m)Object.prototype.hasOwnProperty.call(m,h)&&(e[h]=m[h]);var q=null;for(h in w)if(Object.prototype.hasOwnProperty.call(w,h)&&(d=x[h])){A=w[h];var N=[];for(c=0;c<A.length;c++)if(k=A[c],a=d.hot._acceptedDependencies[k]){if(-1!==N.indexOf(a))continue;N.push(a)}for(c=0;c<N.length;c++){a=N[c];try{a(A)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:h,dependencyId:A[c],error:e}),n.ignoreErrored||q||(q=e)}}}for(c=0;c<T.length;c++){var G=T[c];h=G.module,s=G.parents,o=h;try{I(h)}catch(e){if("function"==typeof G.errorHandler)try{G.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:h,error:t,originalError:e}),n.ignoreErrored||q||(q=t),q||(q=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:h,error:e}),n.ignoreErrored||q||(q=e)}}if(q)return p("fail"),Promise.reject(q);if(g)return t(n).then((function(e){return _.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return p("idle"),new Promise((function(e){e(_)}))}(t=t||{})}function j(){if(g)return f||(f={}),g.forEach(W),g=void 0,!0}function W(t){Object.prototype.hasOwnProperty.call(f,t)||(f[t]=e[t])}var x={};function I(t){if(x[t])return x[t].exports;var o=x[t]={i:t,l:!1,exports:{},hot:l(t),parents:(a=s,s=[],a),children:[]};return e[t].call(o.exports,o,o.exports,c(t)),o.l=!0,o.exports}I.m=e,I.c=x,I.d=function(e,t,o){I.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},I.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},I.t=function(e,t){if(1&t&&(e=I(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(I.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)I.d(o,n,function(t){return e[t]}.bind(null,n));return o},I.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return I.d(t,"a",t),t},I.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},I.p="",I.h=function(){return r},c(0)(I.s=0)}([function(e,t,o){"use strict";o.r(t);class n extends XE.Obj.PlotBase{constructor(e,t){super(e,t),this._onlyMove=!1,this._fixedPositionsNum=void 0,XE.MVVM.extend(this,{_polygonShow:!0}),this._polygon=new XE.Obj.Polygon(e),this.disposers.push(()=>{this._polygon=this._polygon&&this._polygon.destroy()}),this._polygon.show=this._polygonShow&&this.show,XE.Earth.Interaction.Picking.registerPickingParent(this._polygon,this);const o=()=>{this._polygon.show=this._polygonShow&&this.show,this._polygon.width=this.width,this._polygon.color=this.color,this._polygon.ground=this.ground,this._polygon.outline.width=this.outlineWidth,this._polygon.outline.color=this.outlineColor,this._polygon.outline.show=this.outlineShow,this._polygon.depthTest=this.depthTest};o(),this.disposers.push(XE.MVVM.watch(()=>({show:this._polygonShow&&this.show,width:this.width,color:[...this.color],ground:this.ground,outlineWidth:this.outlineWidth,outlineColor:this.outlineColor,outlineShow:this.outlineShow,depthTest:this.depthTest}),()=>o()))}get onlyMove(){return this._onlyMove}get fixedPositionsNum(){return this._fixedPositionsNum}flyTo(){this._polygon.flyTo()}}n.defaultOptions={positions:[],show:!0,color:[0,1,0,.1],outlineWidth:2,outlineColor:[0,1,0,1],outlineShow:!0,depthTest:!1};var r=n;const i=XE.Tool;class s extends r{constructor(e,t){super(e,t),this._onlyMove=!0,this._polygonPositions=[],this.disposers.push(XE.MVVM.watch(()=>({minWidthScale:this.minWidthScale,dynamicWidthScale:this.dynamicWidthScale,arrowMaxHeightScale:this.arrowMaxHeightScale,arrowWingWidthScale:this.arrowWingWidthScale}),()=>{this.change(this.positions,this.minWidthScale,this.dynamicWidthScale,this.arrowMaxHeightScale,this.arrowWingWidthScale)})),this.disposers.push(XE.MVVM.watch(()=>[...this.positions.map(e=>[...e])],()=>{this.change(this.positions,this.minWidthScale,this.dynamicWidthScale,this.arrowMaxHeightScale,this.arrowWingWidthScale)}))}change(e,t=.06,o=.1,n=.1,r=2){let s=[...e];const a=s.length;if(a<2||l(s[a-1],s[a-2]))return;console.clear=function(){};let c=s.map(e=>Cesium.Cartesian3.fromRadians(...e,null,new Cesium.Cartesian3));this._polygonPositions.length=0;let d,h,p,u,f,y,g,v=[0,0,0],w=new Array(a).fill(0).map((e,t)=>(d=s[t-1],h=s[t+1],p=s[t],u=d?i.Math.hpr(p,d,v)[0]:0,f=h?i.Math.hpr(p,h,v)[0]:0,y=u&&f?2:1,g=(u+f)/y,g=u>f?g:g-Cesium.Math.PI,g<0?g+Cesium.Math.TWO_PI:g)),_=0,m=[];c.forEach((e,t)=>{d=c[t-1]||e,h=e,_+=Cesium.Cartesian3.distance(d,h),m.push(_)}),m=m.map(e=>_-e);const M=(o/=2)*_,O=(t/=2)*_;let b=new Array(m.length).fill(0).map((e,t)=>O+M*m[t]/_),P=function(e,t,o,n,r,s){let a=e*t,c=.7*a,l=Cesium.Cartesian3.distance(r[0],r[1]);l<c&&(c=l,a=c/.7);let d=i.Math.hpr(s[1],s[0],[0,0,0])[0],h=i.Math.geoMove(s[1],d,c,[0,0,0]),p=i.Math.geoMove(s[1],d,a,[0,0,0]),u=i.Math.hpr(h,s[1],[0,0,0])[0],f=i.Math.hpr(p,s[1],[0,0,0])[0],y=new Array(5);return y[0]=i.Math.geoMove(h,u-Cesium.Math.PI_OVER_TWO,o,[0,0,0]),y[4]=i.Math.geoMove(h,u+Cesium.Math.PI_OVER_TWO,o,[0,0,0]),y[1]=i.Math.geoMove(p,f-Cesium.Math.PI_OVER_TWO,o*n,[0,0,0]),y[3]=i.Math.geoMove(p,f+Cesium.Math.PI_OVER_TWO,o*n,[0,0,0]),y[2]=[...s[1]],y}(_,n,O,r,c.slice(-2),s.slice(-2)),E=[],S=[];s.forEach((e,t)=>{0==t||t==a-1?(E.push(i.Math.geoMove(e,w[t]+Cesium.Math.PI_OVER_TWO,b[t])),S.push(i.Math.geoMove(e,w[t]-Cesium.Math.PI_OVER_TWO,b[t]))):(E.push(i.Math.geoMove(e,w[t]-Cesium.Math.PI,b[t])),S.push(i.Math.geoMove(e,w[t],b[t])))}),E.pop(),S.pop(),E.push(P[0]),S.push(P[P.length-1]);let j=i.Math.interpolatePositions(E,20*a,!1,[]),W=i.Math.interpolatePositions(S,20*a,!1,[]);j.forEach(e=>{this._polygonPositions.push(e[0],e[1])}),P.forEach(e=>{this._polygonPositions.push(e[0],e[1])});for(let e=W.length-1;e>=0;e--)this._polygonPositions.push(W[e][0],W[e][1]);this._polygon.positions=this._polygonPositions,this._polygon.height=0,this._polygonShow=!0}}s.registerType(s,"GeoArrow"),s.defaultOptions={positions:[],show:!0,color:[0,1,0,.1],outlineWidth:2,outlineColor:[0,1,0,1],outlineShow:!0,depthTest:!1,minWidthScale:.06,dynamicWidthScale:.1,arrowMaxHeightScale:.1,arrowWingWidthScale:2};var a=s;let c;function l(e,t){if(!e||!t)return!1;c=0;for(let o=0;o<e.length;o++)if(c=e[o]==t[o]?0:1,c>0)return!1;return!0}XE.Obj.Plots=XE.Obj.Plots||{},XE.Obj.Plots.GeoArrow=a}]);
//# sourceMappingURL=plottingSymbol2.js.map